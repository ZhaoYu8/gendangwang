(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["depotDetail"],{1148:function(e,t,a){"use strict";var r=a("a691"),i=a("1d80");e.exports="".repeat||function(e){var t=String(i(this)),a="",n=r(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(a+=t);return a}},"199b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-10 box"},[a("Panel",{attrs:{arr:e.arr}},[a("el-col",{staticClass:"d-f-e",attrs:{span:6}},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")])],1)])],1),a("div",{staticClass:"pt-10 table"},[a("el-table",{ref:"firstTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},e._l(e.tableHeader,(function(t,r){return a("el-table-column",{key:t.label+r,attrs:{"header-align":"center",align:t.align||"left",label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(r){return["input"===t.type?a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],model:{value:r.row[t.id],callback:function(a){e.$set(r.row,t.id,a)},expression:"scope.row[item.id]"}}):"serial"===t.type?a("div",{staticClass:"t-c"},[e._v(" "+e._s(r.$index+1)+" ")]):a("div",[e._v(e._s(r.row[t.id]))])]}}],null,!0)})})),1)],1),a("el-pagination",{staticClass:"pagination mr-10",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"page-size":20,"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.currentChange}})],1)},i=[],n=(a("4de4"),a("d81d"),a("b0c0"),a("b680"),a("d3b7"),a("ddb0"),a("5530")),l=(a("96cf"),a("1da1")),o={name:"depotDetail",data:function(){return{arr:[{label:"客户",model:"",placeholder:"",type:"page",data:[],id:"customer_id"},{label:"销售",model:"",placeholder:"",type:"select",data:[],id:"saler_id"},{label:"跟单",model:"",placeholder:"",type:"select",data:[],id:"member_id"},{label:"分类",model:"",placeholder:"",type:"select",data:[],id:"product_group",multiple:!0},{label:"关键字搜索",model:"",placeholder:"产品名称、收货单位、收货人",id:"product_name"},{label:"入库时间",model:"",placeholder:"",type:"daterange",span:6,id:"delivery_date_min"},{label:"出入库类型",model:"",placeholder:"",type:"select",data:[{name:"入库操作",id:"0"},{name:"出库操作",id:"1"},{name:"库存调整",id:"2"},{name:"库存分配",id:"3"},{name:"库存导入",id:"4"}],id:"history_source"}],tableData:[],tableHeader:[{label:"出入库类型",id:"history_source",width:90,align:"center"},{label:"销售",id:"saler_name"},{label:"跟单员",id:"member_name"},{label:"分类",id:"product_group"},{label:"客户名称",id:"customer_name"},{label:"产品名称",id:"product_name"},{label:"单价",id:"product_price",align:"right"},{label:"数量",id:"number_switch",align:"right"},{label:"金额",id:"money",align:"right"},{label:"更新时间/入库时间",id:"updated_at"},{label:"仓储库位",id:"location_name"}],currentPage:1,total:1}},methods:{query:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(n["a"])(Object(n["a"])({},e.$common.querySql.call(e,e.arr)),{page:e.currentPage}),a.delivery_date_min&&(a.created_at_max=moment(a.delivery_date_min[1]).format("YYYY-MM-DD"),a.created_at_min=moment(a.delivery_date_min[0]).format("YYYY-MM-DD")),a.customer_id&&(a.customer_id=e.$vuexData.x.customer.filter((function(e){return e.id===a.customer_id}))[0].name),t.next=5,e.$post("yuanyi_storage_histories/list",a);case 5:r=t.sent,e.tableData=r.data.data.entries.map((function(e){return Object(n["a"])(Object(n["a"])({},e),{money:(e.product_price*e.number_switch).toFixed(2)})})),e.total=r.data.data.paginate_meta.total_count;case 8:case"end":return t.stop()}}),t)})))()},currentChange:function(e){this.currentPage=e,this.query()}},mounted:function(){var e=this;this.query(),this.arr[0].data=this.$vuexData.x.customer,this.arr[3].data=this.$vuexData.x.group_options,this.arr[1].data=this.$vuexData.x.member_options,this.arr[2].data=this.$vuexData.x.member_options,this.$bus.$on("user",(function(){e.arr[0].data=e.$vuexData.x.customer,e.arr[3].data=e.$vuexData.x.group_options,e.arr[1].data=e.$vuexData.x.member_options,e.arr[2].data=e.$vuexData.x.member_options}))}},c=o,d=a("0c7c"),u=Object(d["a"])(c,r,i,!1,null,"7909a9e0",null);t["default"]=u.exports},"408a":function(e,t,a){var r=a("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},b680:function(e,t,a){"use strict";var r=a("23e7"),i=a("a691"),n=a("408a"),l=a("1148"),o=a("d039"),c=1..toFixed,d=Math.floor,u=function(e,t,a){return 0===t?a:t%2===1?u(e,t-1,a*e):u(e*e,t/2,a)},s=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},p=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));r({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,a,r,o,c=n(this),p=i(e),m=[0,0,0,0,0,0],b="",h="0",f=function(e,t){var a=-1,r=t;while(++a<6)r+=e*m[a],m[a]=r%1e7,r=d(r/1e7)},_=function(e){var t=6,a=0;while(--t>=0)a+=m[t],m[t]=d(a/e),a=a%e*1e7},g=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==m[e]){var a=String(m[e]);t=""===t?a:t+l.call("0",7-a.length)+a}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(b="-",c=-c),c>1e-21)if(t=s(c*u(2,69,1))-69,a=t<0?c*u(2,-t,1):c/u(2,t,1),a*=4503599627370496,t=52-t,t>0){f(0,a),r=p;while(r>=7)f(1e7,0),r-=7;f(u(10,r,1),0),r=t-1;while(r>=23)_(1<<23),r-=23;_(1<<r),f(1,1),_(2),h=g()}else f(0,a),f(1<<-t,0),h=g()+l.call("0",p);return p>0?(o=h.length,h=b+(o<=p?"0."+l.call("0",p-o)+h:h.slice(0,o-p)+"."+h.slice(o-p))):h=b+h,h}})}}]);